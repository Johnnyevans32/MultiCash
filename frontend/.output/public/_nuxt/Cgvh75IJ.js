import{e as N,r as w,g as S,p as oe,h as H,F as X,j as U,k as ae,B as K,i as le,l as ne,O as _,P as D,_ as Y,m as k,o as C,c as j,b as V,w as I,t as A,G as Q,a as z,n as M,q as G,d as W,v as ie}from"./CDC5foPa.js";import{u as T,o as O,f as se,P as re,a as ue,V as F,w as Z,R as J,t as $,b as x}from"./CaIJJZHX.js";import{y as de,c as pe,p as ce,l as q}from"./CXSCOM6V.js";import{b as ve}from"./7zzJsOrv.js";import{h as be,F as fe,O as me}from"./DWg-mp3v.js";import{d as ge,e as xe}from"./CzaTtXRt.js";function Oe(t){throw new Error("Unexpected object: "+t)}var y=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(y||{});function ye(t,n){let s=n.resolveItems();if(s.length<=0)return null;let f=n.resolveActiveIndex(),e=f??-1,c=(()=>{switch(t.focus){case 0:return s.findIndex(a=>!n.resolveDisabled(a));case 1:{let a=s.slice().reverse().findIndex((p,r,m)=>e!==-1&&m.length-r-1>=e?!1:!n.resolveDisabled(p));return a===-1?a:s.length-1-a}case 2:return s.findIndex((a,p)=>p<=e?!1:!n.resolveDisabled(a));case 3:{let a=s.slice().reverse().findIndex(p=>!n.resolveDisabled(p));return a===-1?a:s.length-1-a}case 4:return s.findIndex(a=>n.resolveId(a)===t.id);case 5:return null;default:Oe(t)}})();return c===-1?f:c}function he(t,n){return t===n}var Se=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Se||{}),Le=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(Le||{}),we=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(we||{});function _e(t){requestAnimationFrame(()=>requestAnimationFrame(t))}let ee=Symbol("ListboxContext");function E(t){let n=ne(ee,null);if(n===null){let s=new Error(`<${t} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,E),s}return n}let Re=N({name:"Listbox",emits:{"update:modelValue":t=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>he},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(t,{slots:n,attrs:s,emit:f}){let e=w(1),c=w(null),a=w(null),p=w(null),r=w([]),m=w(""),o=w(null),l=w(1);function h(i=u=>u){let u=o.value!==null?r.value[o.value]:null,d=me(i(r.value.slice()),L=>O(L.dataRef.domRef)),b=u?d.indexOf(u):null;return b===-1&&(b=null),{options:d,activeOptionIndex:b}}let R=S(()=>t.multiple?1:0),[P,v]=ge(S(()=>t.modelValue),i=>f("update:modelValue",i),S(()=>t.defaultValue)),g={listboxState:e,value:P,mode:R,compare(i,u){if(typeof t.by=="string"){let d=t.by;return(i==null?void 0:i[d])===(u==null?void 0:u[d])}return t.by(i,u)},orientation:S(()=>t.horizontal?"horizontal":"vertical"),labelRef:c,buttonRef:a,optionsRef:p,disabled:S(()=>t.disabled),options:r,searchQuery:m,activeOptionIndex:o,activationTrigger:l,closeListbox(){t.disabled||e.value!==1&&(e.value=1,o.value=null)},openListbox(){t.disabled||e.value!==0&&(e.value=0)},goToOption(i,u,d){if(t.disabled||e.value===1)return;let b=h(),L=ye(i===y.Specific?{focus:y.Specific,id:u}:{focus:i},{resolveItems:()=>b.options,resolveActiveIndex:()=>b.activeOptionIndex,resolveId:B=>B.id,resolveDisabled:B=>B.dataRef.disabled});m.value="",o.value=L,l.value=d??1,r.value=b.options},search(i){if(t.disabled||e.value===1)return;let u=m.value!==""?0:1;m.value+=i.toLowerCase();let d=(o.value!==null?r.value.slice(o.value+u).concat(r.value.slice(0,o.value+u)):r.value).find(L=>L.dataRef.textValue.startsWith(m.value)&&!L.dataRef.disabled),b=d?r.value.indexOf(d):-1;b===-1||b===o.value||(o.value=b,l.value=1)},clearSearch(){t.disabled||e.value!==1&&m.value!==""&&(m.value="")},registerOption(i,u){let d=h(b=>[...b,{id:i,dataRef:u}]);r.value=d.options,o.value=d.activeOptionIndex},unregisterOption(i){let u=h(d=>{let b=d.findIndex(L=>L.id===i);return b!==-1&&d.splice(b,1),d});r.value=u.options,o.value=u.activeOptionIndex,l.value=1},select(i){t.disabled||v(T(R.value,{0:()=>i,1:()=>{let u=_(g.value.value).slice(),d=_(i),b=u.findIndex(L=>g.compare(d,_(L)));return b===-1?u.push(d):u.splice(b,1),u}}))}};return de([a,p],(i,u)=>{var d;g.closeListbox(),be(u,fe.Loose)||(i.preventDefault(),(d=O(a))==null||d.focus())},S(()=>e.value===0)),oe(ee,g),pe(S(()=>T(e.value,{0:q.Open,1:q.Closed}))),()=>{let{name:i,modelValue:u,disabled:d,...b}=t,L={open:e.value===0,disabled:d,value:P.value};return H(X,[...i!=null&&P.value!=null?xe({[i]:P.value}).map(([B,te])=>H(se,re({features:ue.Hidden,key:B,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:B,value:te}))):[],F({ourProps:{},theirProps:{...s,...Z(b,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:L,slots:n,attrs:s,name:"Listbox"})])}}}),Pe=N({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"}},setup(t,{attrs:n,slots:s,expose:f}){let e=E("ListboxButton"),c=`headlessui-listbox-button-${$()}`;f({el:e.buttonRef,$el:e.buttonRef});function a(o){switch(o.key){case x.Space:case x.Enter:case x.ArrowDown:o.preventDefault(),e.openListbox(),D(()=>{var l;(l=O(e.optionsRef))==null||l.focus({preventScroll:!0}),e.value.value||e.goToOption(y.First)});break;case x.ArrowUp:o.preventDefault(),e.openListbox(),D(()=>{var l;(l=O(e.optionsRef))==null||l.focus({preventScroll:!0}),e.value.value||e.goToOption(y.Last)});break}}function p(o){switch(o.key){case x.Space:o.preventDefault();break}}function r(o){e.disabled.value||(e.listboxState.value===0?(e.closeListbox(),D(()=>{var l;return(l=O(e.buttonRef))==null?void 0:l.focus({preventScroll:!0})})):(o.preventDefault(),e.openListbox(),_e(()=>{var l;return(l=O(e.optionsRef))==null?void 0:l.focus({preventScroll:!0})})))}let m=ve(S(()=>({as:t.as,type:n.type})),e.buttonRef);return()=>{var o,l;let h={open:e.listboxState.value===0,disabled:e.disabled.value,value:e.value.value},R={ref:e.buttonRef,id:c,type:m.value,"aria-haspopup":!0,"aria-controls":(o=O(e.optionsRef))==null?void 0:o.id,"aria-expanded":e.disabled.value?void 0:e.listboxState.value===0,"aria-labelledby":e.labelRef.value?[(l=O(e.labelRef))==null?void 0:l.id,c].join(" "):void 0,disabled:e.disabled.value===!0?!0:void 0,onKeydown:a,onKeyup:p,onClick:r};return F({ourProps:R,theirProps:t,slot:h,attrs:n,slots:s,name:"ListboxButton"})}}}),ke=N({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},setup(t,{attrs:n,slots:s,expose:f}){let e=E("ListboxOptions"),c=`headlessui-listbox-options-${$()}`,a=w(null);f({el:e.optionsRef,$el:e.optionsRef});function p(o){switch(a.value&&clearTimeout(a.value),o.key){case x.Space:if(e.searchQuery.value!=="")return o.preventDefault(),o.stopPropagation(),e.search(o.key);case x.Enter:if(o.preventDefault(),o.stopPropagation(),e.activeOptionIndex.value!==null){let l=e.options.value[e.activeOptionIndex.value];e.select(l.dataRef.value)}e.mode.value===0&&(e.closeListbox(),D(()=>{var l;return(l=O(e.buttonRef))==null?void 0:l.focus({preventScroll:!0})}));break;case T(e.orientation.value,{vertical:x.ArrowDown,horizontal:x.ArrowRight}):return o.preventDefault(),o.stopPropagation(),e.goToOption(y.Next);case T(e.orientation.value,{vertical:x.ArrowUp,horizontal:x.ArrowLeft}):return o.preventDefault(),o.stopPropagation(),e.goToOption(y.Previous);case x.Home:case x.PageUp:return o.preventDefault(),o.stopPropagation(),e.goToOption(y.First);case x.End:case x.PageDown:return o.preventDefault(),o.stopPropagation(),e.goToOption(y.Last);case x.Escape:o.preventDefault(),o.stopPropagation(),e.closeListbox(),D(()=>{var l;return(l=O(e.buttonRef))==null?void 0:l.focus({preventScroll:!0})});break;case x.Tab:o.preventDefault(),o.stopPropagation();break;default:o.key.length===1&&(e.search(o.key),a.value=setTimeout(()=>e.clearSearch(),350));break}}let r=ce(),m=S(()=>r!==null?r.value===q.Open:e.listboxState.value===0);return()=>{var o,l,h,R;let P={open:e.listboxState.value===0},v={"aria-activedescendant":e.activeOptionIndex.value===null||(o=e.options.value[e.activeOptionIndex.value])==null?void 0:o.id,"aria-multiselectable":e.mode.value===1?!0:void 0,"aria-labelledby":(R=(l=O(e.labelRef))==null?void 0:l.id)!=null?R:(h=O(e.buttonRef))==null?void 0:h.id,"aria-orientation":e.orientation.value,id:c,onKeydown:p,role:"listbox",tabIndex:0,ref:e.optionsRef};return F({ourProps:v,theirProps:t,slot:P,attrs:n,slots:s,features:J.RenderStrategy|J.Static,visible:m.value,name:"ListboxOptions"})}}}),Ie=N({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1}},setup(t,{slots:n,attrs:s,expose:f}){let e=E("ListboxOption"),c=`headlessui-listbox-option-${$()}`,a=w(null);f({el:a,$el:a});let p=S(()=>e.activeOptionIndex.value!==null?e.options.value[e.activeOptionIndex.value].id===c:!1),r=S(()=>T(e.mode.value,{0:()=>e.compare(_(e.value.value),_(t.value)),1:()=>_(e.value.value).some(v=>e.compare(_(v),_(t.value)))})),m=S(()=>T(e.mode.value,{1:()=>{var v;let g=_(e.value.value);return((v=e.options.value.find(i=>g.some(u=>e.compare(_(u),_(i.dataRef.value)))))==null?void 0:v.id)===c},0:()=>r.value})),o=S(()=>({disabled:t.disabled,value:t.value,textValue:"",domRef:a}));U(()=>{var v,g;let i=(g=(v=O(a))==null?void 0:v.textContent)==null?void 0:g.toLowerCase().trim();i!==void 0&&(o.value.textValue=i)}),U(()=>e.registerOption(c,o)),ae(()=>e.unregisterOption(c)),U(()=>{K([e.listboxState,r],()=>{e.listboxState.value===0&&(!r.value||T(e.mode.value,{1:()=>{m.value&&e.goToOption(y.Specific,c)},0:()=>{e.goToOption(y.Specific,c)}}))},{immediate:!0})}),le(()=>{e.listboxState.value===0&&(!p.value||e.activationTrigger.value!==0&&D(()=>{var v,g;return(g=(v=O(a))==null?void 0:v.scrollIntoView)==null?void 0:g.call(v,{block:"nearest"})}))});function l(v){if(t.disabled)return v.preventDefault();e.select(t.value),e.mode.value===0&&(e.closeListbox(),D(()=>{var g;return(g=O(e.buttonRef))==null?void 0:g.focus({preventScroll:!0})}))}function h(){if(t.disabled)return e.goToOption(y.Nothing);e.goToOption(y.Specific,c)}function R(){t.disabled||p.value||e.goToOption(y.Specific,c,0)}function P(){t.disabled||!p.value||e.goToOption(y.Nothing)}return()=>{let{disabled:v}=t,g={active:p.value,selected:r.value,disabled:v},i={id:c,ref:a,role:"option",tabIndex:v===!0?void 0:-1,"aria-disabled":v===!0?!0:void 0,"aria-selected":r.value,disabled:void 0,onClick:l,onFocus:h,onPointermove:R,onMousemove:R,onPointerleave:P,onMouseleave:P};return F({ourProps:i,theirProps:Z(t,["value","disabled"]),slot:g,attrs:s,slots:n,name:"ListboxOption"})}}});const Ve=N({emits:["changeOption"],props:{currentPage:{type:Number},totalItems:{type:Number},itemsPerPage:{type:Number,default:10}},setup(t,n){const s=w(t.currentPage||1);return K(()=>t.currentPage,f=>{s.value=f}),K(s,(f,e)=>{n.emit("changeOption",f)}),{selectedOption:s}}}),De={class:"example-six grid justify-center"};function Te(t,n,s,f,e,c){const a=k("font-awesome-icon"),p=k("vue-awesome-paginate");return C(),j("div",De,[V(p,{"total-items":t.totalItems,modelValue:t.selectedOption,"onUpdate:modelValue":n[0]||(n[0]=r=>t.selectedOption=r),"items-per-page":t.itemsPerPage,"max-pages-shown":1},{"prev-button":I(()=>[V(a,{icon:"arrow-right"})]),"next-button":I(()=>[V(a,{icon:"arrow-right"})]),_:1},8,["total-items","modelValue","items-per-page"])])}const qe=Y(Ve,[["render",Te]]),Be=N({components:{Listbox:Re,ListboxButton:Pe,ListboxOptions:ke,ListboxOption:Ie},emits:["changeOption"],props:{title:{type:String},placeholder:{type:String},options:{type:Array,default:()=>[]},selected:{type:[String,Object],required:!0},customCss:{type:String},labelKey:{type:String,default:"label"},valueKey:{type:String,default:"value"}},setup(t,{emit:n}){const s=w(t.selected);return K(s,a=>{n("changeOption",a)}),{selectedOption:s,getOptionLabel:a=>{var p;return typeof a=="string"?a.replaceAll("_"," "):((p=a[t.labelKey])==null?void 0:p.replaceAll("_"," "))||""},getOptionValue:a=>typeof a=="string"?a:a[t.valueKey],getOptionKey:a=>typeof a=="string"?a:a[t.valueKey]}}}),Ce={key:0,class:"text-sm text-left"},Ne={class:"relative"},Ae={class:"absolute inset-y-0 right-0 flex items-center pr-4 pointer-events-none"};function je(t,n,s,f,e,c){const a=k("font-awesome-icon"),p=k("ListboxButton"),r=k("ListboxOption"),m=k("ListboxOptions"),o=k("Listbox",!0);return C(),j("div",null,[t.title?(C(),j("span",Ce,A(t.title)+":",1)):Q("",!0),z("div",Ne,[V(o,{modelValue:t.selectedOption,"onUpdate:modelValue":n[0]||(n[0]=l=>t.selectedOption=l),by:t.getOptionKey},{default:I(()=>[V(p,{class:M([t.customCss,"relative w-full text-left rounded-xl border-[1px] border-base bg-lightbase text-base pl-4 pr-8 py-2 cursor-pointer"])},{default:I(()=>[z("span",null,A(t.getOptionLabel(t.selectedOption)),1),z("span",Ae,[V(a,{icon:"caret-down"})])]),_:1},8,["class"]),V(m,{class:M([t.customCss,"absolute w-full mt-1 rounded-xl border border-base"])},{default:I(()=>[t.placeholder?(C(),G(r,{key:t.placeholder,value:"",disabled:"",class:"cursor-default py-2 px-4 bg-lightbase"},{default:I(()=>[W(A(t.placeholder),1)]),_:1})):Q("",!0),(C(!0),j(X,null,ie(t.options,(l,h)=>(C(),G(r,{key:t.getOptionKey(l),value:l,class:M(["cursor-pointer py-2 px-4 bg-lightbase hover:bg-base border-b border-base",h===0?"rounded-t-xl":"",h===t.options.length-1?"rounded-b-xl border-b-0":""])},{default:I(()=>[W(A(t.getOptionLabel(l)),1)]),_:2},1032,["value","class"]))),128))]),_:1},8,["class"])]),_:1},8,["modelValue","by"])])])}const $e=Y(Be,[["render",je]]);export{qe as _,$e as a};
