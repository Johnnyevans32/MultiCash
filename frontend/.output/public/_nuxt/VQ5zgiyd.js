import{_ as x}from"./CoVnUmhR.js";import{_ as S}from"./Cu3int81.js";import{_ as b}from"./CvmaWrLj.js";import{_ as k}from"./CybuPCj8.js";import{e as w}from"./BIfFRkhF.js";import{e as T,A as V,y as L,f as N,r as g,L as v,D as $,Q as B,_ as C,c as A,b as t,a as s,t as f,H as E,w as _,d as m,E as F,F as M,o as U}from"./CDC5foPa.js";import{u as h}from"./CEedSPwL.js";import{u as D}from"./gh49L7wh.js";const K=T({setup(){h({title:"Sign in",ogTitle:"Sign in"});const o=v(),e=V(),{$api:r}=L(),{setAccessToken:d,setUser:c}=N(),l=g(""),a=g(""),{loading:i,withLoading:u}=D();return{password:l,email:a,config:o,signin:async()=>{await u(async()=>{const n=await r.authService.signin({email:a.value,password:l.value});d(n);const y=await r.userService.me();c(y),$({type:"success",title:"successfully logged in"}),await B(e.query.redirect||"/")})},generateMailToLink:w,loading:i}}}),H={class:"flex flex-col gap-4"},R={class:"text-sm"},q=["href"];function I(o,e,r,d,c,l){const a=x,i=S,u=b,p=k;return U(),A(M,null,[t(a),s("div",H,[e[5]||(e[5]=s("h1",{class:"text-3xl"},"Sign in to your account",-1)),s("p",null,"Securely sign in to your "+f(o.config.public.appName),1),t(i,{inputType:"email",modelValue:o.email,"onUpdate:modelValue":e[0]||(e[0]=n=>o.email=n),title:"Enter your email",placeholder:"email"},null,8,["modelValue"]),t(i,{inputType:"password",modelValue:o.password,"onUpdate:modelValue":e[1]||(e[1]=n=>o.password=n),title:"Enter your password",placeholder:"password",onKeyup:E(o.signin,["enter"])},null,8,["modelValue","onKeyup"]),t(u,{text:"Sign in",onBtnAction:o.signin,loading:o.loading,"custom-css":"!bg-blue-600 w-full text-white"},null,8,["onBtnAction","loading"]),t(p,{class:"text-blue-600 text-sm",to:"/signup"},{default:_(()=>e[2]||(e[2]=[m("Don't have an account? Sign up")])),_:1}),t(p,{class:"text-blue-600 text-sm",to:"/forgot-password"},{default:_(()=>e[3]||(e[3]=[m("Forgot Password?")])),_:1}),s("p",R,[e[4]||(e[4]=m(" Need Help? ")),s("a",{class:"text-blue-600 cursor-pointer",href:("generateMailToLink"in o?o.generateMailToLink:F(w))(),target:"_blank"},"Contact "+f(o.config.public.appName)+" Support",9,q)])])],64)}const X=C(K,[["render",I]]);export{X as default};
